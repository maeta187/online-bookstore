# エンティティ

エンティティとは ValueObject と並びドメインモデルの中心的な要素である。
ドメイン内の様々ばビジネスの実態の概念をモデル化するために使用される。

## ValueObject との違い

エンティティと値オブジェクトは、どちらもドメインモデルの中心的な要素であるが以下の 3 つがエンティティの性質である。

- 同一性により区別される
- 同じ属性であっても区別される
- 可変である

### 同一性により区別される

エンティティは「誰であるか」や「何であるか」という概念によって同一性が定義される
人を例に挙げると、名前、年齢などが変わってもその人は同じ人です。
エンティティの同一性は、構成する属性の値に依存しません。

### 同じ属性であっても区別される

現実世界でも同性、同名だった場合でも同じ人とは限りません。
エンティティでも同じ属性を持つ可能性はあるのでユニークな識別子(ID)を持つことで同じ属性でも区別することができる。

### 可変である

上記で名前や年齢が変わると挙げたのでエンティティは値が変わる可能性がある。
サービスを使用しなくなると登録情報を削除すると言ったこともある。

## エンティティを実装する時のコツ

エンティティの生成、更新、削除の際にはビジネスルールを適用する。
またこの環境のように細かいエンティティを作成し、それを集約して利用することで、ビジネスルールを適用しやすくなる。
集約したエンティティを**ルートエンティティ**（集約ルート）と呼ぶ。
