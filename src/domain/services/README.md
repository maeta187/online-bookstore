# ドメインサービス

メインサービスとは、ドメインモデルの中で、エンティティや ValueObject だけでは自然に表現できないビジネスロジックをカプセル化するための「サービス」。

## サービスとは

DDD ではサービスが 2 つ存在しする。

1 つ目はドメインサービスと呼ばれるもので、ビジネスロジックをカプセル化するためのサービスである。
2 つ目はアプリケーションサービスと呼ばれるもので、ユースケースの実装を行うサービスである。

| 　　           | ドメインサービス            | アプリケーションサービス                      |
| -------------- | --------------------------- | --------------------------------------------- |
| 主な役割       | ビジネスロジックの実装      | ユースケースの実装                            |
| 操作するもの   | ドメインオブジェクト (集約) | ドメインサービス、ドメインオブジェクト (集約) |
| ビジネスルール | ドメイン固有のルールを実装  | ユースケース固有の手順を調整                  |
| データの永続化 | 永続化責務は持たない        | 永続化の責務を持つ                            |

## 不自然な振る舞いとは

例えばユーザー登録をする時に ID が重複していないかを確認するとします。
User クラスで ID の重複をチェックする処理を実装しました。
ですが自分自身で ID が重複していないかのチェックを行うのは不自然です。
このような不自然な振る舞いを避けるためにドメインサービスを使用します。
